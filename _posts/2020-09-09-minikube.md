# Over to minikube again
This is write up on minikube usage for future myself. I was using minikube for almost
an year(~2018) but with the 'none' drive, i.e i was using the docker backend as the other ones
using the VM was quite heavy on my machine and also had issues with sharing the images.

I was quite happy with the setup, but whenever i switch networks i had to restart the
minikube again, I didn't figure out a solution for that. But it was annoying as times
i work from home and office, it had to start over again.

Slowly, I losing patience with that and it was also the time when i started using K3s
the rancher's thing and it was quite nice. But it also had limitations

As i changed teams(~2020), i tried to do the minikube setup again but this time i had more
more problems and went back to use my test cluster.

As usual test cluster don't offer freedom. Freedom is never a compromise, so i am coming
back to setup this again.

Lets do it!

## Install
We will download and install the latest minikube, also remember I will use docker backend,
incase you have to use hypervisor check the installation guide and pick the suitable one.
```
 curl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 \
  && chmod +x minikube
  sudo minikube /usr/local/bin/minikube
  minikube version
```
[See the installation guide](https://kubernetes.io/docs/tasks/tools/install-minikube/)


## Start
Now that we have installed, let us try to start it. Beware that, if you have a
KUBECONFIG value it might update the minikube's context to that current kubeconfig
file and change the context.
If want to avoid that, may be start with unsetting the KUBECONFIG variable.

```
    minikube start --driver=docker --kubernetes-version=v1.17.3
```
I want to use the docker drive and want to have a specific kubernetes version
instead of the default latest version.


## Check
First let us check if the service is up
```
    minikube status
```
Output
```
    minikube
    type: Control Plane
    host: Running
    kubelet: Running
    apiserver: Running
    kubeconfig: Configured
```
That should be easy and should make you happy

## Use
Now test if we can really use the service,
```
    kubectl create deployment hello-minikube --image=k8s.gcr.io/echoserver:1.10
    kubectl expose deployment hello-minikube --type=NodePort --port=8080
    kubectl get pod
    kubectl get svc
```

As the sevice is exposed as NodePort, we can ask minikube to get address of the
service.
```
    minikube service hello-minikube --url
```

Now we have it, I will expand with my use case
## TODO Usecase
